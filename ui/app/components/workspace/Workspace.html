<div>

	<dialog id="wodkspaceMainDialog">
		<div class="dialog-icon">⚠️</div>
		<h3 class="dialog-title">Confirm Action</h3>
		<p class="dialog-message" style="text-align: justify;">Are you sure you want to proceed?</p>
		<div class="dialog-buttons">
			<button class="btn btn-cancel">Cancel</button>
			<button class="btn btn-confirm">Confirm</button>
			<button class="btn btn-ok">Ok</button>
		</div>
	</dialog>

	<st-loader center (showIf)="self.showLoading" (label)="Building the workspace">
		<div id="drawflowContainer" (showIf)="!self.showLoading">
			<st-element component="Header" proxy="headerProxy" showLogsIcon="true"></span></st-element>
			<div class="wrapper">

				<div style="width: 500px;" class="divederLeftSide">
					<st-element component="LeftTabs" (viewPipelineDiagram)="viewPipelineDiagram(event, dbfile)"
						(openScriptOnEditor)="viewScriptOnEditor()" proxy="leftMenuProxy"
						(openDataFileOnEditor)="viewFileOnEditor()"></st-element>
				</div>

				<st-divider type="horizontal" resizable="true" resizeCorrectionPx="150"
					(onResize)="verticalResize(newSize)" />

				<div class="col-right" id="still-adj-right-panel" style="position: relative;">
					<div class="menu">
						<ul style="display: flex;">
							<li style="border: none;" onclick="component.expandDataTableView()">
								Pipeline Name:
							</li>
							<li onclick="controller.changeModule('Home'); controller.changeModule(event);"
								class="selected" tooltip="Pipeline name" tooltip-x="0" tooltip-y="20">
								<div onkeypress="component.onPplineNameKeyPress(event)" contenteditable="true"
									id="pplineNamePlaceHolder">
									@activeGrid
								</div>
							</li>
							<span (showIf)="self.isAnyDiagramActive">
								<li style="border: none;" class="pipeline-context-drop-menu">
									<div
										onmouseover="controller.handlePplineScheduleHideShow(this)" 
										style="display: flex; align-items: center;" class="schedule-job-menu">
										<img src="app/assets/imgs/routine.png" width="20" alt="">
										&nbsp;Schedule a job <span class="menu-added-arrow">⌄</span>
									</div>
									<ul class="submenu schedule-drop-submenu" style="display: none; background: #a2a6ab;">
										<li class="context-content">
											<div style="color: black; font-weight: bold;">New Pipeline Job Schedule</div>
											<form (formRef)="pplineScheduleFormRef">
												<div>
													<label for="email" style="color: black;" class="form-label">Pipeline Name</label>
													<input type="text" disabled (value)="activeGrid" class="form-input">
												</div>
												<div class="form-group-input">
													<label for="role" style="color: black;" class="form-label">Schedule Peridicity</label>
													<select (value)="schedulePeriodicity">
														<option value="" disabled selected>Select an option...</option>
														<option value="every">Every</option>
														<option value="daily">Daily</option>
														<option value="weekly">Weekly</option>
														<option value="monthly">Monthly</option>
													</select>
												</div>
												<div class="form-group-input">
													<label for="email" style="color: black;" class="form-label">Time setting</label>
													
													<div class="time-setting" style="display: flex;">

														<span (showIf)="self.schedulePeriodicitySelected == 'every'">
															<div style="display: flex;">
																<input class="form-input" type="number" (value)="scheduleTime" placeholder="e.g. 10">
																<select (value)="scheduleTimeType">
																	<option value="min">Min</option>
																	<option value="hour">Hour</option>
																</select>
															</div>
														</span>

														<span (showIf)="self.schedulePeriodicitySelected == 'daily'">
															<input 
																onchange="component.changeScheduleTime(this.value)"
																style="width: 12em;" placeholder="e.g. 12:00" 
																type="time" (value)="scheduleTime" class="form-input">
														</span>

													</div>
												</div>
												<button onclick="component.scheduleJob()" id="btnPipelineSchedule" class="btn btn-primary" disabled>
													Schedule Job
												</button>
											</form>
										</li>
									</ul>
								</li>
							</span>
							<li style="display: none;" onclick="controller.changeModule('Other'); controller.changeModule(event);">Space 2</li>
						</ul>
					</div>

					<st-element component="PopupWindow" @delayed="2s" proxy="popupWindowProxy"></st-element>

					<st-element component="NoteBook" @delayed="3s" proxy="noteBookProxy"></st-element>

					<div id="drawflow" (showIf)="self.showDrawFlow" ondrop="controller.drop(event)"
						ondragover="controller.allowDrop(event)">

						<div style="display: flex;" class="clearAndSaveButton">
							<div class="btn-clear clear-workspace-btn" style="right: 94px;"
								onclick="component.resetWorkspace()">Clear</div>
							<div class="btn-export save-pipeline-btn" (showIf)="self.showSaveButton"
								onclick="component.savePipeline()">
								<i class="fa fa-save"></i> Save
							</div>
							<div class="btn-export update-pipeline-btn" (showIf)="!self.showSaveButton"
								onclick="component.updatePipeline()">
								<i class="fa fa-save"></i> Update
							</div>
						</div>

						<div class="btn-lock">
							<i id="lock" class="fas fa-lock"
								onclick="component.editor.editor_mode='fixed'; controller.changeMode('lock');"></i>
							<i id="unlock" class="fas fa-lock-open"
								onclick="component.editor.editor_mode='edit'; controller.changeMode('unlock');"
								style="display:none;"></i>
						</div>
						<div class="bar-zoom">
							<i class="fas fa-search-minus" onclick="component.editor.zoom_out()"></i>
							<i class="fas fa-search" onclick="component.editor.zoom_reset()"></i>
							<i class="fas fa-search-plus" onclick="component.editor.zoom_in()"></i>
						</div>
					</div>

					<div style="position: absolute;">
						<st-element component="LogDisplay" proxy="logProxy"></st-element>
					</div>
				</div>
			</div>
		</div>
</div>

<div class="ai-agent-placeholder" (showIf)="self.openAgent"></div>