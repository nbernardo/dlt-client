<body class="left-menu-tabs">
    <!-- This is the hidden checkbox that controls the state of the nav bar -->
    <input type="checkbox" id="nav-toggle">
    
    <!-- These radio buttons control which content panel is shown -->
    <input type="radio" id="tab-outputs" name="content-tabs">
    <input type="radio" id="tab-data-source" name="content-tabs">
    <input type="radio" id="tab-diagram" name="content-tabs" checked>
    <input type="radio" id="tab-data-files" name="content-tabs">
    <input type="radio" id="tab-api-catalog" name="content-tabs">
    <input type="radio" id="tab-logs" name="content-tabs">
    <input type="radio" id="tab-ai" name="content-tabs">

    <div class="app-container">
        <div class="sidebar-container">
            <!-- The label for the checkbox acts as our clickable toggle button -->
            <label for="nav-toggle" class="sidebar-toggle">â˜°</label>

            <ul class="sidebar-menu">
                <li class="left-menu-item" data-tooltip="Outputs">
                    <label for="tab-outputs" onclick="component.showHideDatabase()">
                        <span class="icon">
                            <img src="app/assets/imgs/left-menu/tables.svg" width="23" alt="">
                        </span>
                        <span class="text">Outputs</span>
                    </label>
                </li>
                <li class="left-menu-item" onclick="component.selectTab('content-data-source')">
                    <label for="tab-data-source">
                        <span class="icon">
                            <img src="app/assets/imgs/left-menu/db-white.svg" width="23" alt="">
                        </span>
                        <span class="text">Data Source</span>
                    </label>
                </li>
                <li class="left-menu-item" onclick="component.selectTab('content-data-files')">
                    <label for="tab-data-files">
                        <span class="icon">
                            <img src="app/assets/imgs/left-menu/files.svg" width="30" alt="">
                        </span>
                        <span class="text">Data Files</span>
                    </label>
                </li>
                <li class="left-menu-item" onclick="component.selectTab('content-api-catalog')">
                    <label for="tab-api-catalog">
                        <span class="icon">
                            <img src="app/assets/imgs/left-menu/api.png" width="25" alt="">
                        </span>
                        <span class="text">API Catalog</span>
                    </label>
                </li>
                <li class="left-menu-item" onclick="component.selectTab('content-diagram')">
                    <label for="tab-diagram">
                        <span class="icon">
                            <img src="app/assets/imgs/left-menu/flow-modeler.svg" width="23" alt="">
                        </span>
                        <span class="text">Diagram</span>
                    </label>
                </li>
                <li class="left-menu-item" onclick="component.selectTab('content-logs')">
                    <label for="tab-logs">
                        <span class="icon">
                            <img src="app/assets/imgs/left-menu/logs.svg" width="23" alt="">
                        </span>
                        <span class="text">Logs</span>
                    </label>
                </li>
                <li class="left-menu-item" onclick="component.selectTab('content-ai')">
                    <label for="tab-ai">
                        <span class="icon">
                            <img src="app/assets/imgs/left-menu/ai.svg" width="23" alt="">
                        </span>
                        <span class="text">Ai Assistent</span>
                    </label>
                </li>
            </ul>
        </div>

        <div class="content">
            
            <div class="content-panel content-outputs">
                <h3>Loaded data</h3>
                <section id="data-panel" class="tab-panel">
                    <st-element 
                        showBullets="false"
                        component="@treeview/StillTreeView"
                        tooltipXPos="10"
                        (onRefreshClick)="refreshTree()"
                        showRefresh="false"
                        tooltipText="Update tree data"
                        proxy="dbTreeviewProxy">
                    </st-element>
                </section>
            </div>

            <div class="content-panel content-data-source">
                <h3>Your Data sources</h3>
            </div>

            <div class="content-panel content-diagram">
                <h3>Pipeline Design</h3>
                <section id="draw-diagram-tab" class="tab-panel">
                    <span (forEach)="objectTypes">
                        <st-element component="ObjectType" each="item"></st-element>
                    </span>
                </section>
            </div>

            <div class="content-panel content-data-files">
                <h3>Your Data Files</h3>
                <section>
                    <st-element component="FileUpload"></st-element>
                </section>
            </div>

            <div class="content-panel content-api-catalog">
                <h3>API Catalog</h3>
            </div>
            
            <div class="content-panel content-logs">
                <h3>Logs</h3>
            </div>
            
            <div class="content-panel content-ai">
                <h3>AI assistent</h3>
            </div>

        </div>
    </div>
</body>


<style>

    * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
    }

    .left-menu-tabs {
        font-family: 'Arial', sans-serif;
        background-color: #f0f2f5;
        display: flex;
        min-height: 100vh;
    }
    
    #nav-toggle,
    #tab-outputs,
    #tab-data-source,
    #tab-data-files,
    #tab-api-catalog,
    #tab-logs,
    #tab-ai,
    #tab-diagram {
        display: none;
    }


    .app-container {
        display: flex;
        width: 100%;
    }


    .sidebar-container {
        background-color: #2c3e50;
        color: #ecf0f1;
        /* Start with a fixed collapsed width */
        width: 50px;
        overflow: hidden;
        transition: width 0.3s ease;
        display: flex;
        flex-direction: column;
        padding-top: 20px;
        box-shadow: 2px 0 5px rgba(0, 0, 0, 0.2);
        border-top-right-radius: 10px;
        border-bottom-right-radius: 10px;
    }


    #nav-toggle:checked ~ .app-container .sidebar-container {
        width: 200px;
    }


    .sidebar-toggle {
        display: block;
        text-align: right;
        padding: 10px 10px;
        cursor: pointer;
        font-size: 24px;
        color: #ecf0f1;
        transition: color 0.3s ease;
    }

    .sidebar-toggle:hover {
        color: #3498db;
    }
    

    .sidebar-menu {
        list-style: none;
        padding-top: 20px;
    }


    .sidebar-menu li label {
        display: flex;
        align-items: center;
        padding: 15px 10px;
        color: #ecf0f1;
        text-decoration: none;
        transition: all 0.3s ease;
        white-space: nowrap;
        cursor: pointer;
    }

    .sidebar-menu li label:hover {
        background-color: #34495e;
        border-left: 4px solid #3498db;
        color: white;
    }


    .sidebar-menu li .icon {
        font-size: 24px; /* A fallback for text icons */
        width: 24px;
        height: 24px;
        margin-right: 15px;
        transition: margin 0.3s ease;
        text-align: center;
    }

    #nav-toggle:checked ~ .app-container .sidebar-container .icon {
        margin-right: 15px;
    }

    .sidebar-menu li .text {
        opacity: 0;
        visibility: hidden;
        transition: opacity 0.1s ease;
    }

    #nav-toggle:checked ~ .app-container .sidebar-container .text {
        opacity: 1;
        visibility: visible;
    }
    
    #tab-outputs:checked ~ .app-container .sidebar-menu label[for="tab-outputs"],
    #tab-data-source:checked ~ .app-container .sidebar-menu label[for="tab-data-source"],
    #tab-diagram:checked ~ .app-container .sidebar-menu label[for="tab-diagram"], 
    #tab-data-files:checked ~ .app-container .sidebar-menu label[for="tab-data-files"], 
    #tab-api-catalog:checked ~ .app-container .sidebar-menu label[for="tab-api-catalog"], 
    #tab-logs:checked ~ .app-container .sidebar-menu label[for="tab-logs"], 
    #tab-ai:checked ~ .app-container .sidebar-menu label[for="tab-ai"] 
    {
        background-color: #3498db;
        color: white;
        border-left: 4px solid #2980b9;
    }

    .content {
        flex-grow: 1;
        padding: 40px;
        line-height: 1.6;
        color: #34495e;
        position: relative;
    }

    .content-panel {
        position: absolute;
        top: 10px;
        left: 0;
        right: 0;
        opacity: 0;
        visibility: hidden;
        transition: opacity 0.3s ease, visibility 0.3s ease;
        background-color: white;
        padding: 0;

        h3 {
            text-align: center;
        }

    }
    
    #tab-outputs:checked ~ .app-container .content-outputs,
    #tab-data-source:checked ~ .app-container .content-data-source,
    #tab-diagram:checked ~ .app-container .content-diagram,
    #tab-data-files:checked ~ .app-container .content-data-files,
    #tab-api-catalog:checked ~ .app-container .content-api-catalog,
    #tab-logs:checked ~ .app-container .content-logs,
    #tab-ai:checked ~ .app-container .content-ai
    {
        opacity: 1;
        visibility: visible;
    }

    .content h2 {
        color: #2c3e50;
        margin-bottom: 20px;
    }


   /* * Tooltip styling.
     * The `::after` pseudo-element creates the main tooltip box.
     */
     .left-menu-item::after {
        content: attr(data-tooltip); /* Gets text from the HTML attribute */
        position: absolute;
        top: 50%;
        left: 55px; /* Position to the right of the icon */
        transform: translateY(-50%);
        background-color: #555;
        color: white;
        padding: 6px 10px;
        border-radius: 6px;
        white-space: nowrap;
        opacity: 0;
        visibility: hidden;
        transition: opacity 0.3s ease, visibility 0.3s ease;
        z-index: 1000000000;
    }

    /* * Tooltip arrow.
     * The `::before` pseudo-element creates the small triangular arrow.
     */
    .left-menu-item::before {
        content: '';
        position: absolute;
        top: 50%;
        left: 47px; /* Position next to the tooltip box */
        transform: translateY(-50%) rotate(45deg);
        width: 10px;
        height: 10px;
        background-color: #555;
        opacity: 0;
        visibility: hidden;
        transition: opacity 0.3s ease, visibility 0.3s ease;
        z-index: 100000000;
    }

    /* Show both the tooltip and arrow on hover */
    .left-menu-item:hover::after,
    .left-menu-item:hover::before {
        opacity: 1;
        visibility: visible;
    }

    /* Styling for each menu item */
    .left-menu-item {
        position: relative; /* Essential for positioning the tooltip */
        list-style: none;
        margin: 5px 0;
        cursor: pointer;
    }


</style>
